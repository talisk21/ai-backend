import { Tool, ToolInputSpecField } from "../tool.interface";

export class WebSearchTool implements Tool {
  name = "web_search";

  description =
    "–í—ã–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –∑–∞–ø—Ä–æ—Å—É. " +
    "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ñ–∞–∫—Ç–æ–≤, –Ω–æ–≤–æ—Å—Ç–µ–π –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ. " +
    "–ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ LLM –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.";

  inputSpec: ToolInputSpecField[] = [
    {
      name: "query",
      type: "string",
      required: true,
      description: "–ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: \"–ø–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ\", \"–Ω–æ–≤–æ—Å—Ç–∏ OpenAI\")."
    }
  ];

  async run(input: { query: string }): Promise<string> {
    const { query } = input;

    if (!query || typeof query !== "string") {
      return "‚ùå –ù–µ —É–∫–∞–∑–∞–Ω –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å";
    }

    // –ü–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞
    return `üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É: "${query}" (–∑–∞–≥–ª—É—à–∫–∞)`;
  }
}